@page "/index"
@using System.Web
@inject NavigationManager Navigation
@rendermode InteractiveServer

<div class="index-container">
    <h1 class="index-title">–¶–∞—Ä—å –ì–æ—Ä—ã</h1>

    <div class="buttons-column">
        <button @onclick="@(() => Navigation.NavigateTo($"/game?token={Token}"))"
                class="nav-button btn-game">
            <span class="button-icon">üéÆ</span>
            –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
        </button>

        <button @onclick="@(() => Navigation.NavigateTo("/rules"))"
                class="nav-button btn-rules">
            <span class="button-icon">üìñ</span>
            –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã
        </button>
    </div>
</div>

@code {
    private string? Token;

    protected override void OnInitialized()
    {
        var uri = Navigation.ToAbsoluteUri(Navigation.Uri);
        Token = HttpUtility.ParseQueryString(uri.Query).Get("token");
    }
}